language: c
os:
 - linux
 - osx
env:
 matrix:
  - PYTHON_VERSION=2.7
  - PYTHON_VERSION=3.5
  - PYTHON_VERSION=3.6
 global:
  - CONDA_DEPENDENICES="nodejs"
# matrix:
#   allow_failures:
#     env: PYTHON_VERSION=3.6

before_install:
  - . $HOME/.nvm/nvm.sh
  - nvm install stable
  - nvm use stable

  - git clone git://github.com/astropy/ci-helpers.git
  - source ci-helpers/travis/setup_conda.sh

  - pip install -r requirements.txt
  - pip install pytest pytest-cov runipy coveralls

install:
  - pip install -e .

script:
  - xvfb-run py.test --cov-report= --cov=glue_jupyter glue_jupyter
#  - runipy examples/examples.ipynb

after_success:
  coveralls
